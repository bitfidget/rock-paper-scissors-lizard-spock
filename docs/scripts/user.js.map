{"version":3,"sources":["user.babel.js"],"names":["user","init","userDom","signedOut","signIn","googleUser","this","profile","getBasicProfile","console","log","getName","signedIn","signOut","gapi","auth2","getAuthInstance","then","userProfile","innerHTML","getImageUrl","updateState","addCls","screen","removeCls","clearCls"],"mappings":"YAAA,IAAMA,OACJC,KAAM,WACJC,QAAQC,aAGVC,OAAQ,SAAUC,GAEhBC,KAAKC,QAAUF,EAAWG,kBAC1BC,QAAQC,IAAI,gBAAkBJ,KAAKC,QAAQI,WAE3CT,QAAQU,YAIVC,QAAS,WACKC,KAAKC,MAAMC,kBACjBH,UAAUI,KAAK,WACnBR,QAAQC,IAAI,wBACZV,KAAKC,WAKLC,SACJU,SAAU,WACRM,YAAYC,UAAZ,4BAEqBnB,KAAKO,QAAQI,UAFlC,0BAGcX,KAAKO,QAAQa,cAH3B,wFAMAC,YAAYC,OAAOC,OAAQ,cAG7BpB,UAAW,WACTe,YAAYC,UAAZ,8CAIAE,YAAYG,UAAUD,OAAQ,cAKlCvB,MAAKC,OACLoB,YAAYI,SAASF,OAAQ","file":"user.babel.js","sourcesContent":["const user = {\n  init: function () {\n    userDom.signedOut()\n  },\n\n  signIn: function (googleUser) {\n\n    this.profile = googleUser.getBasicProfile();\n    console.log('logged in as ' + this.profile.getName())\n\n    userDom.signedIn()\n\n  },\n\n  signOut: function () {\n    let auth2 = gapi.auth2.getAuthInstance()\n    auth2.signOut().then(function () {\n      console.log('You have signed out.')\n      user.init()\n    });\n  }\n}\n\nconst userDom = {\n  signedIn: function () {\n    userProfile.innerHTML =\n    `\n      <h6>Welcome back ${user.profile.getName()}</h6>\n      <img src=\"${user.profile.getImageUrl()}\"/>\n      <button onclick=\"user.signOut();\" class=\"tertiary\">Sign out</button>\n    `\n    updateState.addCls(screen, 'signed-in')\n  },\n\n  signedOut: function () {\n    userProfile.innerHTML =\n    `\n      <p>Please sign in to play</p>\n    `\n    updateState.removeCls(screen, 'signed-in')\n  }\n}\n\n// it all starts here\nuser.init()\nupdateState.clearCls(screen, 'state-home')\n"]}